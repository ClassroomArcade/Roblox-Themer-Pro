<!DOCTYPE html>
<html>
<head>
  <title>Theme Store</title>
  <style>
    body { font-family: 'Segoe UI', sans-serif; background: #0b0e11; color: white; padding: 50px; }
    .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 25px; margin-top: 30px; }
    .item { background: #15191e; padding: 25px; border-radius: 15px; text-align: center; border: 1px solid #2f3336; }
    .preview { height: 120px; border-radius: 10px; margin-bottom: 20px; }
    .buy-btn { background: #0084ff; color: white; border: none; padding: 12px; border-radius: 8px; cursor: pointer; width: 100%; font-weight: bold; }
    .buy-btn:disabled { background: #28a745; cursor: default; }
  </style>
</head>
<body>
    <h1>Theme Store</h1>
    <p>Get exclusive styles for your Roblox Home.</p>
    <div class="grid" id="storeGrid"></div>

    <script>
        const themes = [
            {id: 'cyberpunk', name: 'Cyberpunk Red', color: '#ff0055'},
            {id: 'vaporwave', name: 'Vaporwave Night', color: '#ff71ce'},
            {id: 'ocean', name: 'Deep Sea Blue', color: '#0077be'}
        ];

        chrome.storage.local.get(['ownedThemes'], (data) => {
            const owned = data.ownedThemes || ['cyberpunk'];
            const grid = document.getElementById('storeGrid');

            themes.forEach(t => {
                const isOwned = owned.includes(t.id);
                const div = document.createElement('div');
                div.className = 'item';
                div.innerHTML = `
                    <div class="preview" style="background:${t.color}"></div>
                    <h3>${t.name}</h3>
                    <button class="buy-btn" data-id="${t.id}" ${isOwned ? 'disabled' : ''}>
                        ${isOwned ? 'Claimed' : 'Get for FREE'}
                    </button>`;
                grid.appendChild(div);
            });
        });

        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('buy-btn')) {
                const id = e.target.dataset.id;
                chrome.storage.local.get(['ownedThemes'], (data) => {
                    const owned = data.ownedThemes || ['cyberpunk'];
                    if (!owned.includes(id)) owned.push(id);
                    chrome.storage.local.set({ownedThemes: owned}, () => {
                        e.target.innerText = "Claimed";
                        e.target.disabled = true;
                    });
                });
            }
        });
    </script>
</body>
</html>
